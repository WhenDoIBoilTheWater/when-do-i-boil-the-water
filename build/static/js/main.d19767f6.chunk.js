(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/kitchen-timer.ff189e21.wav"},function(e,t,n){e.exports=n(26)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(8),r=n.n(s),c=n(1),l=n(2),o=n(4),u=n(3),m=n(5),p=(n(16),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("ul",null,this.props.recipeArray.map(function(e){return i.a.createElement("div",{key:e.id},i.a.createElement("br",null),i.a.createElement("strong",{className:"leading-capitals"},e.name,":")," ",e.description,e.ingredients.map(function(e){return i.a.createElement("li",{key:e.id,className:"leading-capitals"},e.quantity," ",e.name)}))}))}}]),t}(i.a.Component)),d=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={arrayOfRecipes:n.props.arrayOfRecipes,newMeal:n.props.passedMeal,deleteEnabled:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"fetchAddRecipeToMeal",value:function(e){var t=this;fetch("https://when-do-i-boil-the-java.herokuapp.com/api/meals/addRecipe",{method:"POST",body:JSON.stringify({mealId:this.state.newMeal.id,recipeId:e})}).then(function(e){return e.json()}).then(function(e){return t.setState({newMeal:e})})}},{key:"fetchRemoveMeal",value:function(){var e=this;fetch("https://when-do-i-boil-the-java.herokuapp.com/api/meals/remove",{method:"POST",body:JSON.stringify({mealId:this.state.newMeal.id})}).then(function(){e.props.setView("premade")})}},{key:"fetchDeleteRecipe",value:function(e){var t=this;fetch("https://when-do-i-boil-the-java.herokuapp.com/api/recipes/remove",{method:"POST",body:JSON.stringify({recipeId:e})}).then(function(e){return e.json()}).then(function(e){t.setState({arrayOfRecipes:e})})}},{key:"fetchRemoveRecipe",value:function(e){var t=this;fetch("https://when-do-i-boil-the-java.herokuapp.com/api/meal/removeRecipe",{method:"POST",body:JSON.stringify({recipeId:e,mealId:this.state.newMeal.id})}).then(function(e){return e.json()}).then(function(e){t.setState({newMeal:e})})}},{key:"fetchUpdateMealName",value:function(e){var t=this;fetch("https://when-do-i-boil-the-java.herokuapp.com/api/meals/updateName",{method:"POST",body:JSON.stringify({mealId:this.state.newMeal.id,mealName:e})}).then(function(){t.props.setView("premade")})}},{key:"componentDidMount",value:function(){document.querySelector(".meal-name").value=this.state.newMeal.name}},{key:"render",value:function(){var e=this;return i.a.createElement("section",{className:"build-meal-section"},i.a.createElement("div",{className:"top-bar"},i.a.createElement("span",{className:"back-button",style:{cursor:"pointer"},onClick:function(){e.fetchRemoveMeal()}},"\u27a6"),i.a.createElement("h2",null,"What's for dinner?")),i.a.createElement("ul",{className:"list-of-recipes"},this.state.arrayOfRecipes.map(function(t){return i.a.createElement("li",{className:"recipe-li",key:t.id},i.a.createElement("div",{className:"recipe-top-row"},i.a.createElement("span",{className:"dim-on-hover vertical-ellipsis",onClick:function(){e.state.ingredientListToView===t.id?e.setState({ingredientListToView:0}):e.setState({ingredientListToView:t.id})}},"\u22ee"),i.a.createElement("span",{className:"dim-on-hover recipe-you-could-select-in-build-view",onClick:function(){e.fetchAddRecipeToMeal(t.id)}},t.name),i.a.createElement("span",{className:"recipe-remove-button little-red-button delete-recipe-from-repo-button",onClick:function(){!0===window.confirm("You you want to delete this recipe forever?")&&(!0===e.state.deleteEnabled?e.fetchDeleteRecipe(t.id):alert("permission denied"))}},"\xd7")),e.state.ingredientListToView===t.id?i.a.createElement(p,{recipeArray:[t]}):i.a.createElement("p",null))})),i.a.createElement("div",{className:"new-meal-summary"},i.a.createElement("h3",null,i.a.createElement("input",{className:"meal-name",type:"text"}),": ",Math.floor(this.state.newMeal.length/60)," minutes"),i.a.createElement("ul",{className:"list-of-added-recipes"},this.state.newMeal.recipes.map(function(t){return i.a.createElement("li",{className:"added-recipe-li",key:t.id},i.a.createElement("p",null,t.name),i.a.createElement("span",{className:"recipe-remove-button little-red-button",onClick:function(){e.fetchRemoveRecipe(t.id)}}," \xd7 "))})),i.a.createElement("section",{className:"button-section"},i.a.createElement("button",{className:"build-meal-button cook-button",onClick:function(){e.props.setMeal(e.state.newMeal),e.fetchUpdateMealName(document.querySelector(".meal-name").value)}},"Cook"),i.a.createElement("button",{className:"build-meal-button save-button",onClick:function(){e.fetchUpdateMealName(document.querySelector(".meal-name").value)}},"Save"))))}}]),t}(i.a.Component),h=(n(17),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).setView=function(e){fetch("https://when-do-i-boil-the-java.herokuapp.com/api/meals").then(function(e){return e.json()}).then(function(t){n.setState({view:e,arrayOfMeals:t})})},n.state={view:"premade",deleteEnabled:!1},n.fetchMeals(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"fetchMeals",value:function(){var e=this;fetch("https://when-do-i-boil-the-java.herokuapp.com/api/meals").then(function(e){return e.json()}).then(function(t){e.setState({arrayOfMeals:t})})}},{key:"fetchRecipes",value:function(){var e=this;fetch("https://when-do-i-boil-the-java.herokuapp.com/api/recipes").then(function(e){return e.json()}).then(function(t){e.setState({arrayOfRecipes:t}),e.fetchAddMeal()})}},{key:"fetchAddMeal",value:function(){var e=this;fetch("https://when-do-i-boil-the-java.herokuapp.com/api/meals/add",{method:"POST",body:JSON.stringify({mealName:"New Meal"})}).then(function(e){return e.json()}).then(function(t){return e.setState({view:"build",newMeal:t})})}},{key:"fetchRemoveMeal",value:function(e){var t=this;fetch("https://when-do-i-boil-the-java.herokuapp.com/api/meals/remove",{method:"POST",body:JSON.stringify({mealId:e})}).then(function(e){return e.json()}).then(function(e){t.setState({arrayOfMeals:e})})}},{key:"render",value:function(){var e=this,t=[],n=[],a={};return this.state.arrayOfMeals&&(t=this.state.arrayOfMeals),this.state.arrayOfRecipes&&(n=this.state.arrayOfRecipes),this.state.newMeal&&(a=this.state.newMeal),"premade"===this.state.view?i.a.createElement("section",{className:"planning-section"},i.a.createElement("section",{className:"saved-meals-section"},i.a.createElement("h2",null,"LOOK AT THESE MEALS:"),i.a.createElement("ul",{className:"meals-ul"},t.map(function(t){return i.a.createElement("li",{className:"meal-li",key:t.id},i.a.createElement("div",{className:"meal-li-initial-stuff"},i.a.createElement("span",{className:"vertical-ellipsis",onClick:function(){e.state.ingredientListToView===t.id?e.setState({ingredientListToView:0}):e.setState({ingredientListToView:t.id})}},"\u22ee"),i.a.createElement("span",{className:"meal-li-name leading-capitals",onClick:function(){e.props.setMeal(t)}},t.name,": ",Math.floor(t.length/60)," minutes"),i.a.createElement("span",{className:"meal-remove-button little-red-button",onClick:function(){!0===e.state.deleteEnabled?e.fetchRemoveMeal(t.id):alert("permission denied")}},"\xd7")),e.state.ingredientListToView===t.id?i.a.createElement(p,{recipeArray:t.recipes}):i.a.createElement("p",null))}))),i.a.createElement("section",{className:"create-a-meal-section"},i.a.createElement("div",{className:"new-meal-input-area"},i.a.createElement("button",{className:"new-meal-button",onClick:function(){e.fetchRecipes()}},i.a.createElement("p",null,"+ New Meal"))),i.a.createElement("button",{className:"new-meal-button",onClick:function(){e.props.setView("cookbook")}},"cookbook"))):"build"===this.state.view?i.a.createElement(d,{className:"build-view",arrayOfRecipes:n,passedMeal:a,setMeal:this.props.setMeal,fetchAddRecipeToMeal:this.fetchAddRecipeToMeal,setView:this.setView}):void 0}}]),t}(i.a.Component)),f=n(6),b=(n(18),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("button",{className:"stop-cooking-button",onClick:function(){e.props.setView("planning")}},i.a.createElement("strong",null,"GIVE UP, STOP, CEASE"))}}]),t}(i.a.Component)),v=(n(19),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={description:n.props.description,when:n.props.when,whenOClock:""},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setEndOClock()}},{key:"setEndOClock",value:function(){var e=new Date,t=(e=new Date(e.getTime()+1e3*this.state.when)).toLocaleTimeString();this.setState({whenOClock:t})}},{key:"render",value:function(){return i.a.createElement("section",{className:"timer-card cooking-view-card"},i.a.createElement("p",null,this.state.description),i.a.createElement("p",null,this.state.whenOClock))}}]),t}(i.a.Component)),w=(n(20),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={animationDuration:"".concat(1e3*this.props.length-1,"ms")};return i.a.createElement("div",{className:"bar-timer-field"},i.a.createElement("div",{style:e,className:"bar-timer-bar"}))}}]),t}(i.a.Component)),y=(n(21),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).toggleTimer=function(){n.setState({showTimer:!1}),setInterval(function(){n.setState({showTimer:!0})},10)},n.state={showTimer:!0},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){!0===this.props.shouldBarTimerRestart&&(this.toggleTimer(),this.props.barTimerShouldNotRestart());var e=this.state.showTimer?i.a.createElement(w,{length:this.props.length,toggleTimer:this.toggleTimer}):"";return i.a.createElement("div",{className:"current-step-card cooking-view-card"},i.a.createElement("p",null,this.props.description),e)}}]),t}(i.a.Component)),E=(n(22),n(9)),g=n.n(E),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).tick=function(){n.state.arrayOfTimers.forEach(function(e){e.when===n.state.localSeconds&&e.callback()}),n.setState({localSeconds:n.props.localSeconds})},n.barTimerShouldNotRestart=function(){n.setState({shouldBarTimerRestart:!1})},n.state={recipe:n.props.recipe,meal:n.props.meal,arrayOfTimers:[],localSeconds:0,currentStepDescription:"loading...",shouldBarTimerRestart:!1},n.buildTimers(),n.tick=n.tick.bind(Object(f.a)(n)),n.audio=new Audio(g.a),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setTimer",value:function(e,t,n){var a={when:e,description:t,callback:n};this.state.arrayOfTimers.push(a)}},{key:"buildTimers",value:function(){var e=this;this.state.recipe.steps.forEach(function(t){e.setTimer(e.state.meal.length-t.secBeforeEnd,t.description,function(){var n;e.audio.play(),n=e.state.arrayOfTimers[1]?e.state.arrayOfTimers[1].when-e.state.localSeconds:0,e.setState({currentStepDescription:t.description,currentStepLength:n,shouldBarTimerRestart:!0}),e.state.arrayOfTimers.shift()})}),this.state.arrayOfTimers.sort(function(e,t){return e.when-t.when}),this.setTimer(this.state.meal.length,"Serve",function(){e.setState({currentStepDescription:"Serve!",currentStepLength:0}),e.state.arrayOfTimers.shift()}),setInterval(this.tick,500)}},{key:"render",value:function(){var e,t=this;return"loading..."!==this.state.currentStepDescription&&(e=i.a.createElement(y,{shouldBarTimerRestart:this.state.shouldBarTimerRestart,barTimerShouldNotRestart:this.barTimerShouldNotRestart,description:this.state.currentStepDescription,length:this.state.currentStepLength})),i.a.createElement("section",{className:"recipe"},i.a.createElement("h4",{className:"recipe-time-seconds"},this.state.localSeconds),i.a.createElement("h1",{className:"recipe-name leading-capitals"},this.state.recipe.name),i.a.createElement("div",{className:"steps-container"},e,i.a.createElement("ul",{className:"list-of-steps"},this.state.arrayOfTimers.map(function(e){return i.a.createElement(v,{key:e.when,when:e.when,description:e.description,stepLength:e.stepLength,localSeconds:t.state.localSeconds})}))))}}]),t}(i.a.Component),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).tick=function(){n.setState({globalSeconds:n.state.globalSeconds+1})},n.state={meal:n.props.meal,globalSeconds:0},n.tick=n.tick.bind(Object(f.a)(n)),setInterval(n.tick,1e3),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"cooking-section"},i.a.createElement("section",{className:"recipe-container"},this.state.meal.recipes.map(function(t){return i.a.createElement(S,{key:t.id,recipe:t,meal:e.state.meal,localSeconds:e.state.globalSeconds})})),i.a.createElement(b,{setView:this.props.setView}))}}]),t}(i.a.Component),k=(n(23),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"spotify-widget"},i.a.createElement("iframe",{src:"https://open.spotify.com/embed/playlist/5GQIv1pWFtbYxC6T6bHz83",width:"640",height:"80",frameborder:"0",allowtransparency:"true",allow:"encrypted-media",title:"spotify-widget"}))}}]),t}(i.a.Component)),N=(n(24),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).submitRecipe=function(){""!==document.querySelector(".recipe-name-input").value&&""!==document.querySelector(".recipe-description-input").value&&""!==document.querySelector(".recipe-serving-size-input").value?fetch("https://when-do-i-boil-the-java.herokuapp.com/api/recipes/add",{method:"POST",body:JSON.stringify({recipeName:document.querySelector(".recipe-name-input").value,recipeDescription:document.querySelector(".recipe-description-input").value,servingSize:document.querySelector(".recipe-serving-size-input").value,stepsArray:n.state.steps,ingredientsArray:n.state.ingredients})}).then(function(){n.props.setView("planning")}):alert("You failed to fill in your recipe details")},n.submitIngredient=function(){if(""!==document.querySelector(".new-ingredient-name-input").value&&""!==document.querySelector(".new-ingredient-quantity-input").value){var e=n.state.ingredients,t={ingredientsName:document.querySelector(".new-ingredient-name-input").value,ingredientsQty:document.querySelector(".new-ingredient-quantity-input").value};e.push(t),n.setState({ingredients:e}),document.querySelector(".new-ingredient-name-input").value="",document.querySelector(".new-ingredient-quantity-input").value=""}else alert("You failed to fill in everything for your ingredient")},n.submitStep=function(){if(""!==document.querySelector(".new-step-description-input").value&&""!==document.querySelector(".new-step-length-hours-input").value&&""!==document.querySelector(".new-step-length-minutes-input").value&&""!==document.querySelector(".new-step-length-seconds-input").value){var e,t=n.state.steps,a={stepDescription:document.querySelector(".new-step-description-input").value,secondsToEnd:0};t.push(a);var i=document.querySelector(".new-step-length-hours-input").value,s=document.querySelector(".new-step-length-minutes-input").value,r=document.querySelector(".new-step-length-seconds-input").value;e=3600*parseInt(i)+60*parseInt(s)+parseInt(r),t.forEach(function(t){t.secondsToEnd=parseInt(t.secondsToEnd)+parseInt(e)}),n.setState({steps:t}),document.querySelector(".new-step-description-input").value="",document.querySelector(".new-step-length-hours-input").value=0,document.querySelector(".new-step-length-minutes-input").value=0,document.querySelector(".new-step-length-seconds-input").value=0}else alert("You failed to fill in everything for your step")},n.state={steps:[],ingredients:[],recipeLength:0},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.querySelector(".new-step-length-hours-input").value=0,document.querySelector(".new-step-length-minutes-input").value=0,document.querySelector(".new-step-length-seconds-input").value=0}},{key:"render",value:function(){var e=this;return i.a.createElement("section",{className:"cookbook-section"},i.a.createElement("h1",null,"Add a New Recipe: "),i.a.createElement("header",null,i.a.createElement("label",null,"Recipe Name: ",i.a.createElement("input",{className:"recipe-name-input",type:"text"})),i.a.createElement("label",null,"Serving Size: ",i.a.createElement("input",{className:"recipe-serving-size-input",type:"number"})),i.a.createElement("label",null,"Description: ",i.a.createElement("textarea",{className:"recipe-description-input"}))),i.a.createElement("section",{className:"ingredient-in-new-recipe-section"},i.a.createElement("div",{className:"add-ingredients-to-new-recipe"},i.a.createElement("label",null,"Add Ingredient: ",i.a.createElement("input",{className:"new-ingredient-name-input",type:"text"})),i.a.createElement("label",null,"Quantity: ",i.a.createElement("input",{className:"new-ingredient-quantity-input",type:"text"}))),i.a.createElement("button",{className:"add-ingredient-button little-red-button",onClick:function(){e.submitIngredient()}},"+"),i.a.createElement("div",{className:"added-ingredients-for-new-recipe"},i.a.createElement("span",null,"Ingredients:"),this.state.ingredients.map(function(e){return i.a.createElement("li",{key:e.ingredientsName},e.ingredientsQty," ",e.ingredientsName)}))),i.a.createElement("section",{className:"add-step-to-new-recipe-section"},i.a.createElement("div",null,i.a.createElement("div",{className:"new-recipe-new-step-top-row"},i.a.createElement("label",null,"Step Length:",i.a.createElement("br",null),"Hours: ",i.a.createElement("input",{className:"new-step-length-hours-input new-step-length-field",type:"number"}),"Minutes: ",i.a.createElement("input",{className:"new-step-length-minutes-input new-step-length-field",type:"number"}),"Seconds: ",i.a.createElement("input",{className:"new-step-length-seconds-input new-step-length-field",type:"number"}))),i.a.createElement("label",null,"Step Description:",i.a.createElement("textarea",{className:"new-step-description-input",type:"text"})),i.a.createElement("button",{className:"add-step-button little-red-button",onClick:function(){e.submitStep()}},"+")),i.a.createElement("div",{className:"added-steps-for-new-recipe"},i.a.createElement("span",null,"Steps:"),this.state.steps.map(function(e){return i.a.createElement("li",{key:e.stepDescription},e.stepDescription)}))),i.a.createElement("div",{className:"submit-new-recipe-button-area"},i.a.createElement("button",{className:"submit-recipe-button",onClick:function(){e.submitRecipe()}}," Submit New Recipe")),i.a.createElement(b,{setView:this.props.setView}))}}]),t}(i.a.Component)),j=(n(25),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).setMeal=function(e){n.setState({meal:e,view:"cooking"})},n.setView=function(e){n.setState({meal:{},view:e})},n.state={view:"planning",meal:{}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"cooking"===this.state.view?i.a.createElement(O,{meal:this.state.meal,setView:this.setView}):"planning"===this.state.view?i.a.createElement("section",{className:"planning-view"},i.a.createElement(h,{setMeal:this.setMeal,setView:this.setView})):"cookbook"===this.state.view?i.a.createElement(N,{setView:this.setView}):"spotify"===this.state.view?i.a.createElement(k,null):void 0}}]),t}(i.a.Component));r.a.render(i.a.createElement(j,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.d19767f6.chunk.js.map